var mapOpenButton=document.querySelector(".main-contacts-map"),mapCloseButton=document.querySelector(".modal_map-close"),mapModal=document.querySelector(".modal_map");mapOpenButton.addEventListener("click",function(e){e.preventDefault(),mapModal.classList.add("modal-opened")}),mapCloseButton.addEventListener("click",function(e){e.preventDefault(),mapModal.classList.remove("modal-opened")});var buyItemOpenButtons=document.querySelectorAll(".item_card-button-buy"),buyItemCloseButton=document.querySelector(".modal_item_purches-close"),buyItemReturnButton=document.querySelector(".modal_item_purches-return"),buyItemModal=document.querySelector(".modal_item_purches");buyItemOpenButtons.forEach(function(e){e.addEventListener("click",function(e){e.preventDefault(),buyItemModal.classList.add("modal-opened")})}),buyItemCloseButton.addEventListener("click",function(e){e.preventDefault(),buyItemModal.classList.remove("modal-opened")}),buyItemReturnButton.addEventListener("click",function(e){e.preventDefault(),buyItemModal.classList.remove("modal-opened")});var contactUsOpenButton=document.querySelector(".main-contacts-link"),contactUsCloseButton=document.querySelector(".modal_contact_us-close"),contactUsModal=document.querySelector(".modal_contact_us"),form=document.querySelector(".modal_contact_us-form"),userName=form.querySelector(".modal_contact_us-form-name input"),email=form.querySelector(".modal_contact_us-form-email input"),text=form.querySelector(".modal_contact_us-form-text textarea");hasLocalStorageName=!0,hasLocalStorageEmail=!0,storageName="",storageEmail="";try{storageName=localStorage.getItem("userName"),storageEmail=localStorage.getItem("email")}catch(e){isLocalStorageSupports=!1}contactUsOpenButton.addEventListener("click",function(e){e.preventDefault(),contactUsModal.classList.add("modal-contact_us-opened"),storageName&&storageEmail?(name.value=storageName,email.value=storageEmail,text.focus()):userName.focus()}),contactUsCloseButton.addEventListener("click",function(e){e.preventDefault(),contactUsModal.classList.remove("modal-contact_us-opened")}),form.addEventListener("submit",function(e){userName.value&&email.value&&text.value?isLocalStorageSupports&&(localStorage.setItem("userName",userName.value),localStorage.setItem("email",email.value)):(e.preventDefault(),console.log("Заполните все поля формы"))}),window.addEventListener("keydown",function(e){27===e.keyCode&&(e.preventDefault(),contactUsModal.classList.contains("modal-contact_us-opened")&&contactUsModal.classList.remove("modal-contact_us-opened"))});
